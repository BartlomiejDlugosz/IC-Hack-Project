{% extends "base.html" %}
{% block content %}
<div class="container padding-top">
  <h1 class="text-2xl font-bold mb-4">What would you like to learn?</h1>
  <form method="POST" id="courseForm">
    <div class="mb-4">
      <label for="name" class="block text-sm font-medium text-gray-700">What shall you name it?</label>
      <input type="text" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" id="name" name="name" required>
    </div>
    <div class="mb-4">
      <label for="difficulty_matrix" class="block text-sm font-medium text-gray-700">How difficult would you like it to be?</label>
      <input type="text" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" id="difficulty_matrix" name="difficulty_matrix" required>
    </div>
    <div class="mb-4">
      <label for="description" class="block text-sm font-medium text-gray-700">Can you elaborate on what you wish to see in the course?</label>
      <textarea class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" id="description" name="description" required></textarea>
    </div>
    <div class="mb-4 hidden">
      <label for="content" class="block text-sm font-medium text-gray-700">Content</label>
      <textarea class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" id="content" name="content"></textarea>
    </div>
    <div class="mb-4 hidden">
      <label for="questions" class="block text-sm font-medium text-gray-700">Questions</label>
      <textarea class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" id="questions" name="questions"></textarea>
    </div>
    <button type="submit" class="btn btn-flat bg-blue-600 text-white px-4 py-2 rounded">Create Course</button>
  </form>
</div>

<!-- Loading spinner element, centered on the page -->
<div id="loadingSpinner" role="status" class="hidden fixed inset-0 flex items-center justify-center bg-gray-100 bg-opacity-75 z-50">
  <svg class="w-10 h-10 text-blue-600 animate-spin" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
      <!-- Thicker circle by increasing stroke-width -->
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="6"></circle>
      <path class="opacity-75" fill="currentColor" d="M12 2a10 10 0 010 20V2z"></path>
  </svg>
  <span class="sr-only">Loading...</span>
</div>

<!-- JavaScript to toggle the loading spinner on form submission -->
<script>
  const form = document.getElementById('courseForm');
  form.addEventListener('submit', function() {
    // Show the loading spinner
    document.getElementById('loadingSpinner').classList.remove('hidden');
    // Optionally hide the form to prevent duplicate submissions
    form.classList.add('hidden');
  });
</script>
{% endblock %}
